(()=>{var e={};e.id=456,e.ids=[456],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},4368:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>i}),t(4780),t(2029),t(5866);var s=t(3191),r=t(8716),n=t(7922),o=t.n(n),l=t(5231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(a,d);let i=["",{children:["total",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4780)),"/home/pandassauro/dash-webhook/src/app/total/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/home/pandassauro/dash-webhook/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/pandassauro/dash-webhook/src/app/total/page.tsx"],u="/total/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/total/page",pathname:"/total",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},5096:(e,a,t)=>{Promise.resolve().then(t.bind(t,919))},919:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var s=t(326),r=t(7577),n=t(5047),o=t(6816),l=t(1223),d=t(8873);let i={leads:0,mql:0,agendamento:0,reunioes:0,qualificado:0,closerAgendada:0,closerRealizada:0,vendas:0};function c(e,a){return{leads:e.leads+a.leads,mql:e.mql+a.mql,agendamento:e.agendamento+a.agendamento,reunioes:e.reunioes+a.reunioes,qualificado:e.qualificado+a.qualificado,closerAgendada:e.closerAgendada+a.closerAgendada,closerRealizada:e.closerRealizada+a.closerRealizada,vendas:e.vendas+a.vendas}}function u(){let e=(0,n.useRouter)(),a=(0,n.useSearchParams)(),t=a.get("year"),u=a.get("month"),[p,m]=(0,r.useState)(t?parseInt(t):new Date().getFullYear()),[g,x]=(0,r.useState)(u?parseInt(u):new Date().getMonth()+1),[h,f]=(0,r.useState)(i),[v,q]=(0,r.useState)(null),[y,P]=(0,r.useState)(null),[j,b]=(0,r.useState)(!0),[w,_]=(0,r.useState)([]),S=new Date(p,g-1,1),k=(0,l.xc)(new Date),M=v?(0,l.up)(h.vendas,v.vendas):0;return(0,r.useCallback)(async()=>{b(!0);try{let[e,a,t,s]=await Promise.all([(0,d.yg)(p,g,"wedding"),(0,d.yg)(p,g,"elopement"),(0,d.OU)(p,g,"wedding"),(0,d.OU)(p,g,"elopement")]),r=[...e,...a];_(r);let n=(0,d.P2)(e,p,g),o=(0,d.P2)(a,p,g);f(c(n,o)),q(t||s?t?s?{...t,leads:t.leads+s.leads,mql:t.mql+s.mql,agendamento:t.agendamento+s.agendamento,reunioes:t.reunioes+s.reunioes,qualificado:t.qualificado+s.qualificado,closer_agendada:t.closer_agendada+s.closer_agendada,closer_realizada:t.closer_realizada+s.closer_realizada,vendas:t.vendas+s.vendas,cpl:(t.cpl+s.cpl)/2}:t:s:null);let l=p,i=g-1;0===i&&(i=12,l=p-1);let[u,m]=await Promise.all([(0,d.yg)(l,i,"wedding"),(0,d.yg)(l,i,"elopement")]);P(c((0,d.P2)(u,l,i),(0,d.P2)(m,l,i)))}catch(e){console.error("Error loading data:",e)}finally{b(!1)}},[p,g]),s.jsx("main",{className:"min-h-screen p-6 bg-gray-100",children:(0,s.jsxs)("div",{className:"max-w-[1600px] mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Dashboard - Total (WW + Elopement)"}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[s.jsx(o.a$,{selectedYear:p,selectedMonth:g,onChange:(a,t)=>{m(a),x(t),e.push(`/total?year=${a}&month=${t}`,{scroll:!1})}}),s.jsx(o.fj,{year:p,month:g})]})]}),s.jsx(o.YM,{monthProgress:k,resultProgress:M,investment:24667.3}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx(o.yM,{selectedMonth:S,lastUpdate:new Date}),s.jsx("div",{className:"p-4",children:j?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Carregando dados..."}):s.jsx(o.B6,{metrics:h,target:v,previousMetrics:y,monthProgress:k,cpl:43.76,deals:w,year:p,month:g})})]})]})})}function p(){return s.jsx(r.Suspense,{fallback:s.jsx("div",{className:"min-h-screen p-6 bg-gray-100 flex items-center justify-center",children:"Carregando..."}),children:s.jsx(u,{})})}},4780:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/home/pandassauro/dash-webhook/src/app/total/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[276,347,199,627],()=>t(4368));module.exports=s})();